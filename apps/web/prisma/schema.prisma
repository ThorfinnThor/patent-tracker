generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("PRISMA_DATABASE_URL")
}

model patents {
  sector           String
  company_id       String
  patent_id        String
  patent_date      DateTime
  patent_year      Int
  patent_title     String
  cited_by         Int
  cpc_subclass_ids String
  cpc_group_ids    String

  @@id([sector, company_id, patent_id])
  @@index([sector, company_id, patent_date(sort: Desc), patent_id(sort: Desc)])
  @@index([sector, company_id, cited_by(sort: Desc), patent_date(sort: Desc)])
  @@index([sector, company_id, patent_year(sort: Desc)])
}

model companies {
  sector               String
  company_id           String
  display_name         String
  patent_count         Int
  total_citations      Int
  citations_per_patent Float
  cpc_breadth          Int

  @@id([sector, company_id])
}

model patent_inventors {
  sector             String
  company_id         String
  patent_id          String
  inventor_id        String
  inventor_name_first String
  inventor_name_last  String
  inventor_name       String
  patent_date         DateTime

  @@id([sector, company_id, patent_id, inventor_id])
  @@index([sector, company_id, patent_date(sort: Desc)])
}

model cpc_group {
  cpc_group_id    String @id
  cpc_group_title String
}

model cpc_subclass {
  cpc_subclass_id    String @id
  cpc_subclass_title String
}

model cpc_class {
  cpc_class_id    String @id
  cpc_class_title String
}
